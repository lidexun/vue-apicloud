{"version":3,"file":"js/50.581109fd.js","mappings":"+MAAO,MAOMA,EAAaC,IACxB,MAAMC,EAAI,IACLD,EACHE,IAAKC,uBAA2BH,EAAME,KAExCE,IAAIL,UAAUE,I,iNCsDhB,MAAMI,EAAU,CACd,CACEC,KAAM,OACNC,MAAO,KACPC,KAAM,SACNC,GAAI,SAEN,CACEH,KAAM,OACNC,MAAO,KACPC,KAAM,SACNC,GAAI,SAEN,CACEH,KAAM,OACNC,MAAO,MACPC,KAAM,SACNC,GAAI,SAEN,CACEH,KAAM,OACNC,MAAO,IACPC,KAAM,UACNC,GAAI,UAGFC,GAASC,EAAAA,EAAAA,IAAI,QACbC,GAASD,EAAAA,EAAAA,IAAI,IACnB,IAAIE,GAAWC,EAAAA,EAAAA,IAAS,CACtBC,IAAK,GACLC,OAAQ,KAEV,MAAMC,GAASN,EAAAA,EAAAA,IAAI,MACbO,GAASP,EAAAA,EAAAA,IAAI,MAEbQ,EAAeC,UAEnB,IAAK,IAAIC,EAAI,EAAGA,EAAIhB,EAAQiB,OAAQD,IAClCjB,IAAImB,aAAa,CACfjB,KAAMD,EAAQgB,GAAGf,KACjBkB,QAAQ,IAGZ,MAAMC,EAAQpB,EAAQqB,WAAWC,GAASA,EAAKrB,OAASA,UAClDsB,EAAAA,EAAAA,MAEN,MAAMD,EAAOtB,EAAQoB,GACfI,EAAO,CACXvB,KAAMqB,EAAKrB,KACXJ,IAAKyB,EAAKlB,GACVqB,KAAM,CACJC,WAAY,EACZC,UAAoB,SAAT1B,EAAkB,EAAIW,EAAOgB,MAAMC,aAC9CC,aAAcjB,EAAOe,MAAMC,aAC3BE,YAAa,GAEfC,UAAW,CACTZ,SAEFa,SAAS,EACTC,mBAAmB,EACnBC,mBAAmB,EACnBC,cAAc,GAEhB1C,EAAU8B,I,OAEZa,EAAAA,EAAAA,KAAU,KACRC,OAAOC,SAAW,KAChBC,YAAW,KACTzC,IAAI0C,iBAAiB,CACnBC,UAAW,CACTC,KAAM,OACNC,SAAU,SAGb,KACH7C,IAAI8C,kBAAkB,CACpBC,MAAO,SAETtC,EAASE,IAAMX,IAAIS,SAASE,IAC5BF,EAASG,OAASZ,IAAIS,SAASG,OAC/BG,EAAa,Y,k8CC7IjB,MAAMiC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://vue-apicloud/./src/utils/utils.js","webpack://vue-apicloud/./src/views/main/index.vue","webpack://vue-apicloud/./src/views/main/index.vue?8fd5"],"sourcesContent":["export const openWin = (param) => {\n  const p = {\n    ...param,\n    url: process.env.VUE_APP_PATH + param.url\n  }\n  api.openWin(p)\n}\nexport const openFrame = (param) => {\n  const p = {\n    ...param,\n    url: process.env.VUE_APP_PATH + param.url\n  }\n  api.openFrame(p)\n}\n","<template>\n  <main class=\"main\">\n    <header\n      class=\"border_b\"\n      ref=\"header\"\n      :style=\"{ 'padding-top': safeArea.top + 'px' }\"\n    >\n      <van-row\n        type=\"flex\"\n        justify=\"center\"\n        class=\"home_search\"\n        v-show=\"active === 'home'\"\n      >\n        <div class=\"home_search_icon\">\n          <van-icon name=\"scan\" class=\"icon\" />\n        </div>\n        <van-search\n          v-model=\"search\"\n          placeholder=\"搜索9999999好物\"\n          input-align=\"center\"\n          disabled\n        />\n        <div class=\"home_search_icon\">\n          <van-icon name=\"chat-o\" class=\"icon\" />\n        </div>\n      </van-row>\n      <van-nav-bar\n        class=\"border_b\"\n        v-show=\"active === 'sort'\"\n        :title=\"'分类'\"\n        :border=\"false\"\n      />\n      <van-nav-bar\n        class=\"border_b\"\n        v-show=\"active === 'cart'\"\n        :title=\"'购物车'\"\n        :border=\"false\"\n      />\n    </header>\n    <div class=\"view\"></div>\n    <div class=\"border_t\" ref=\"footer\">\n      <van-tabbar\n        v-model=\"active\"\n        :route=\"false\"\n        placeholder\n        active-color=\"#ee0a24\"\n        :fixed=\"false\"\n        :style=\"{ 'padding-bottom': safeArea.bottom + 'px' }\"\n        :border=\"false\"\n        @change=\"tabbarChange\"\n      >\n        <van-tabbar-item\n          v-for=\"(item, index) in tabbars\"\n          :key=\"item.name\"\n          :name=\"item.name\"\n          :icon=\"item.icon\"\n        >\n          {{ item.label }}\n        </van-tabbar-item>\n      </van-tabbar>\n    </div>\n  </main>\n</template>\n<script setup>\nimport { ref, reactive, onMounted, nextTick } from 'vue'\nimport { openFrame } from './../../utils/utils'\nconst tabbars = [\n  {\n    name: 'home',\n    label: '首页',\n    icon: 'shop-o',\n    to: '/home'\n  },\n  {\n    name: 'sort',\n    label: '分类',\n    icon: 'apps-o',\n    to: '/sort'\n  },\n  {\n    name: 'cart',\n    label: '购物车',\n    icon: 'cart-o',\n    to: '/cart'\n  },\n  {\n    name: 'user',\n    label: '我',\n    icon: 'contact',\n    to: '/user'\n  }\n]\nconst active = ref('home')\nconst search = ref('')\nlet safeArea = reactive({\n  top: 44,\n  bottom: 30\n})\nconst header = ref(null)\nconst footer = ref(null)\n\nconst tabbarChange = async (name) => {\n  /*隐藏全部窗口*/\n  for (var i = 0; i < tabbars.length; i++) {\n    api.setFrameAttr({\n      name: tabbars[i].name,\n      hidden: true\n    })\n  }\n  const index = tabbars.findIndex((item) => item.name === name)\n  await nextTick()\n  /* DOM更新 */\n  const item = tabbars[index]\n  const data = {\n    name: item.name,\n    url: item.to,\n    rect: {\n      marginLeft: 0,\n      marginTop: name === 'user' ? 0 : header.value.offsetHeight,\n      marginBottom: footer.value.offsetHeight,\n      marginRight: 0\n    },\n    pageParam: {\n      index\n    },\n    bounces: true,\n    vScrollBarEnabled: true,\n    hScrollBarEnabled: true,\n    useWKWebView: true\n  }\n  openFrame(data)\n}\nonMounted(() => {\n  window.apiready = () => {\n    setTimeout(() => {\n      api.removeLaunchView({\n        animation: {\n          type: 'fade',\n          duration: 300\n        }\n      })\n    }, 2000)\n    api.setStatusBarStyle({\n      style: 'dark'\n    })\n    safeArea.top = api.safeArea.top\n    safeArea.bottom = api.safeArea.bottom\n    tabbarChange('home')\n  }\n})\n</script>\n<style lang=\"less\" scoped>\n.van-search {\n  flex: 1;\n}\n.home_search_icon {\n  width: 46px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .icon {\n    font-size: 22px;\n  }\n}\n.main {\n  min-height: 100vh;\n  display: flex;\n  flex-flow: column;\n  .view {\n    flex: 1;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e0e38764&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/lidexun/lidexun/project/vue-apicloud/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.73.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e0e38764\"]])\n\nexport default __exports__"],"names":["openFrame","param","p","url","process","api","tabbars","name","label","icon","to","active","ref","search","safeArea","reactive","top","bottom","header","footer","tabbarChange","async","i","length","setFrameAttr","hidden","index","findIndex","item","nextTick","data","rect","marginLeft","marginTop","value","offsetHeight","marginBottom","marginRight","pageParam","bounces","vScrollBarEnabled","hScrollBarEnabled","useWKWebView","onMounted","window","apiready","setTimeout","removeLaunchView","animation","type","duration","setStatusBarStyle","style","__exports__"],"sourceRoot":""}